.emails {
  font-size: var(--font-size-small);
  overflow: hidden;
  overflow-anchor: none;
  contain: layout style paint;
  mask-image: linear-gradient(to bottom, black, black 80%, transparent);
  -webkit-mask-image: linear-gradient(to bottom, black, black 80%, transparent);
  transition: height 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              background-color 0.7s ease-out;
}

.email__item {
  transition: opacity 0.7s ease-out, transform var(--transition-duration-slow) var(--transition-timing-ease-out), max-height 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94), height 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.email__item--entering {
  height: 0;
  max-height: 0;
  overflow: hidden;
  opacity: 0.6;
}

.email__item--slide-in {
  height: var(--item-height, auto);
  max-height: var(--item-height, 1000px);
  opacity: 1;
  transition: height 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              max-height 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity 0.7s ease-out;
}

.email__icon .icon {
  color: var(--color-accent-dark);
}

.email__date {
  color: var(--color-font-muted);
  text-align: right;
  text-wrap-mode: nowrap;
  margin-left: auto;
}

.email__item .email__desktop {
  display: flex;
  gap: 1rem;
  align-items: center;
  padding: 1rem;
}

.email__mobile .email__content {
  padding: 1rem;
  border-top: var(--divider);
}

.email__item:first-child .email__icon {
  position: relative;
}

.email__item:not(:first-child) {
  background: var(--color-blue-muted);
}

.email__item:first-child .email__subject {
  font-weight: var(--font-weight-bold);
}

.email__item:first-child .email__icon::after {
  position: absolute;
  content: '1';
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xxsmall);
  width: 1rem;
  height: 1rem;
  top: 0;
  right: 0;
  color: var(--color-font-secondary);
  background: var(--color-red);
  border-radius: var(--border-radius-circle);
  opacity: 0;
  transform: scale(0);
  animation: email-badge-bounce-in 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.25s forwards;
}

@keyframes email-badge-bounce-in {
  0% {
    opacity: 0;
    transform: scale(0);
  }

  50% {
    opacity: 1;
    transform: scale(1.3);
  }

  70% {
    transform: scale(0.85);
  }

  85% {
    transform: scale(1.05);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@media (width >= 1024px) {
  .emails {
    height: 430px;
    background: var(--color-background-secondary);
    border-radius: var(--border-radius-medium);
    box-shadow: var(--box-shadow-large);
  }

  .email__item:first-child,
  .email__item:last-child {
    padding: 0.5rem 0; 
  }

  .email__item:not(:last-child) {
    border-bottom: var(--divider);
  }
}

@media (width <= 1024px) {
  .emails {
    height: 450px;
  }

  .email__item .email__desktop {
    padding-bottom: .25rem;
  }

  .email__item {
    background: var(--color-background-secondary);
    border-radius: var(--border-radius-medium);
    box-shadow: var(--box-shadow-medium);
    margin: 1rem;
  }
}
